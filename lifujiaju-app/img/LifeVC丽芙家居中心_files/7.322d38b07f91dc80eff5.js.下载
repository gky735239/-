webpackJsonp([7,50],{16:function(e,t,a){"use strict";function s(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=a(17),r=s(o),n=a(15),i=a(2);s(i);t.default={computed:(0,r.default)({},(0,n.mapState)({cartNum:function(e){return e.app.cartNum},waittoypayNum:function(e){return e.app.waittoypayNum}})),methods:{checkout:function(e){this.$store.dispatch("checkout",e)}}}},18:function(e,t,a){var s,o;s=a(16);var r=a(19);o=s=s||{},"object"!=typeof s.default&&"function"!=typeof s.default||(o=s=s.default),"function"==typeof o&&(o=o.options),o.render=r.render,o.staticRenderFns=r.staticRenderFns,e.exports=s},19:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("footer",{directives:[{name:"stop-touchmove",rawName:"v-stop-touchmove"}],staticClass:"footer",attrs:{id:"bottombar"}},[e._t("default"),e._v(" "),a("div",[a("ul",{attrs:{id:"footermenuNav"}},[a("li",[a("router-link",{attrs:{to:"/",replace:"","active-class":"selected",exact:""}},[a("div",{staticClass:"ico homeico"}),e._v(" "),a("span",{staticClass:"lispan"},[e._v("首页")])])],1),e._v(" "),a("li",[a("router-link",{attrs:{to:"/all",replace:"","active-class":"selected",exact:""}},[a("div",{staticClass:"ico typeico"}),e._v(" "),a("span",[e._v("全部产品")])])],1),e._v(" "),a("li",[a("router-link",{attrs:{to:"/stroll",replace:"","active-class":"selected",exact:""}},[a("div",{staticClass:"ico strollico"}),e._v(" "),a("span",[e._v("闲逛")])])],1),e._v(" "),a("li",[a("router-link",{attrs:{to:"/cart","active-class":"selected",exact:""}},[a("div",{staticClass:"ico shoppingcartico"}),e._v(" "),a("span",[e._v("购物车")]),e._v(" "),e.cartNum>0&&e.cartNum<100?a("div",{staticClass:"life-cart-num radius50"},[a("span",{staticClass:"radius50"},[e._v(e._s(e.cartNum))])]):e._e(),e._v(" "),e.cartNum>99?a("div",{staticClass:"life-cart-num-three"},[a("span",[e._v(e._s(e.cartNum))])]):e._e()])],1),e._v(" "),a("li",[a("router-link",{attrs:{to:"/usercenter",replace:"","active-class":"selected",exact:""}},[a("div",{staticClass:"ico accountcenterico"}),e._v(" "),a("span",[e._v("账户中心")]),e._v(" "),a("span",{class:{"hint-acct":e.waittoypayNum>0}})])],1)])])],2)},staticRenderFns:[]}},65:function(e,t,a){"use strict";function s(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=a(1),r=s(o),n=a(46),i=s(n);t.default={props:["multiple","maximumImagesCount"],data:function(){return{isApp:r.default.isApp()}},methods:{uploadImg:function(e){if(null!=e.target.files&&0!=e.target.files.length)for(var t=e.target.files,a=this,s=0;s<t.length;s++)setTimeout(function(e){var s=new FileReader,o=t[e];s.readAsDataURL(o),s.onload=function(e){a.$emit("uploadHander",this.result,o)}}(s),100*s)},appUploadImg:function(){var e=this;e.isApp&&i.default.open({maximumImagesCount:e.maximumImagesCount},function(t){e.$emit("appUploadHander",t)})}},created:function(){}}},93:function(e,t,a){var s,o;s=a(65);var r=a(97);o=s=s||{},"object"!=typeof s.default&&"function"!=typeof s.default||(o=s=s.default),"function"==typeof o&&(o=o.options),o.render=r.render,o.staticRenderFns=r.staticRenderFns,e.exports=s},97:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("input",{attrs:{readonly:"",type:e.isApp?"button":"file",accept:"image/gif,image/jpeg,image/jpg,image/png",multiple:e.multiple},on:{change:function(t){e.uploadImg(t)},click:e.appUploadImg}})},staticRenderFns:[]}},191:function(e,t,a){"use strict";function s(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=a(17),r=s(o),n=a(15),i=a(13),l=s(i),c=a(12),u=s(c),d=a(20),p=(s(d),a(28)),f=s(p),v=a(10),m=s(v),h=a(440),_=s(h),g=a(18),C=s(g),M=a(1),U=s(M),w=a(7),b=a(93),y=s(b),x=a(11),D=s(x),k=a(46),I=s(k);m.default.component("v-footer",C.default),t.default={created:function(){var e=this;U.default.isLogin()&&(e.UserModel=D.default.get("userInfo"),u.default.getCouponsCanUseNum().then(function(t){t&&t.Data&&(e.UserCouponNum=t.Data)})),D.default.set("homeScrollTop",0)},mounted:function(){var e=this;e.getDashboard()},data:function(){return{UserModel:null,MenuModel:null,ExitButton:!1,UserCouponNum:0,topStatus:"",showLoading:!1}},computed:(0,r.default)({},(0,n.mapState)({showDownload:function(e){return!U.default.isApp()&&e.app.showDownload_user}})),components:{"v-user-menu":_.default,"v-img-upload":y.default},methods:{loadTop:function(e){var t=this;t.getDashboard()},getDashboard:function(){var e=this;u.default.getDashboard().then(function(t){e.$refs.pulldown&&e.$refs.pulldown.onTopLoaded(),t.InnerData?(e.UserModel=t.InnerData,e.UserModel.AccountControl&&"E001"==e.UserModel.AccountControl.Code?w.MessageBox.alert("登录验证信息已过期","").then(function(t){e.$store.dispatch("logout"),e.$router.push({path:"login"})}):D.default.set("userInfo",e.UserModel)):(D.default.set("userInfo",null),e.$store.dispatch("logout"))},function(t){e.$refs.pulldown&&e.$refs.pulldown.onTopLoaded()}),u.default.getUsercenter().then(function(t){t.InnerData&&(e.MenuModel=t.InnerData.CenterMenus)})},exitLogin:function(){var e=this;u.default.logout().then(function(){e.UserModel=null,e.ExitButton=!1,e.$store.dispatch("updateWaitToPayNum",0),e.$store.dispatch("logout")})},uploadFace:function(e){var t=this;f.default.uploadImg(e).then(function(e){if(U.default.checkSuccess(e)&&e.InnerData&&e.InnerData.ImageFiles){var a=e.InnerData.ImageFiles;u.default.setUserFace({UserFace:a}).then(function(e){U.default.checkSuccess(e)&&setTimeout(function(){t.showLoading=!1,(0,w.Toast)(e.Message),t.UserModel.UserFace=a},200)})}},function(e){t.showLoading=!1,(0,w.Toast)("上传失败")})},uploadHander:function(e,t){if(Math.round(t.size/1024*100)>5242880)return void(0,w.Toast)("图片大小不能超过5M");var a=this;a.showLoading=!0,setTimeout(function(){var e=new FormData;e.append("type","userface"),e.append("orderProId","userface"),e.append(t.name,t),a.uploadFace(e)},1)},appUploadHander:function(e){var t=this;e.length>0&&(t.showLoading=!0,setTimeout(function(){I.default.getFormData(e,function(e){e.append("type","userface"),e.append("orderProId","userface"),t.uploadFace(e)})},1))},hideDownload:function(){l.default.dispatch("showDownload_user")}}}},199:function(e,t,a){"use strict";function s(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=(a(15),a(1)),r=s(o),n=a(3),i=s(n),l=a(6),c=s(l);t.default={name:"UserHeader",props:["menuModel","userModel","userCouponNum"],methods:{ChangeUrl:function(e,t,a){switch(e){case"Settings":t="inner:///usercenter/accountinfo";break;case"UserOrderDiff":t="inner:///usercenter/userdiffapply";break;case"Addresses":t="inner:///usercenter/addresses";break;case"checkphone":t="inner:///usercenter/smsverification";break;case"MemberSuggestion":t=t.replace("http://m.lifevc.com",c.default.mobileSite)}0==r.default.isLogin()&&"CustomerService"!=e?i.default.push({name:"login"}):this.$options.filters.open(t,a)}}}},289:function(e,t,a){t=e.exports=a(4)(),t.push([e.id,".acct-user .user-info .i-level-sign[data-v-75c9c97a]{vertical-align:baseline}.life-dashboard-order li .hint[data-v-75c9c97a]{width:1.6rem!important;height:1.6rem!important;display:inline-block;background:#f7931e;border:2px solid #fff;border-radius:15px;text-align:center;font-size:1.2rem;color:#fff;line-height:1.3rem;margin:0;position:absolute;right:-.3rem;top:-.5rem;z-index:9;line-height:1.6rem}.acct-user .i-mugshot[data-v-75c9c97a]{width:4.6rem;height:4.6rem;max-width:5rem!important}.acct-user .imgupload[data-v-75c9c97a]{position:absolute;left:21%;width:4.6rem;height:4.6rem;border-radius:50%;opacity:0}.dashboard li .arr-r[data-v-75c9c97a]{width:8px;height:8px;border-right:1px solid #bbb;border-top:1px solid #bbb;margin:2.1rem 1rem 0 0}.page-content[data-v-75c9c97a]{overflow:scroll;-webkit-overflow-scrolling:touch;margin-top:0;padding-bottom:0}.page-footer[data-v-75c9c97a]{position:static}",""])},341:function(e,t,a){var s=a(289);"string"==typeof s&&(s=[[e.id,s,""]]);a(5)(s,{});s.locals&&(e.exports=s.locals)},432:function(e,t,a){var s,o;a(341),s=a(191);var r=a(496);o=s=s||{},"object"!=typeof s.default&&"function"!=typeof s.default||(o=s=s.default),"function"==typeof o&&(o=o.options),o.render=r.render,o.staticRenderFns=r.staticRenderFns,o._scopeId="data-v-75c9c97a",e.exports=s},440:function(e,t,a){var s,o;s=a(199);var r=a(503);o=s=s||{},"object"!=typeof s.default&&"function"!=typeof s.default||(o=s=s.default),"function"==typeof o&&(o=o.options),o.render=r.render,o.staticRenderFns=r.staticRenderFns,e.exports=s},496:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{},[a("v-loading",{attrs:{"show-loading":e.showLoading}}),e._v(" "),a("v-header",[a("div",{staticClass:"header-content"},[a("p",{staticClass:"header-title"},[e._v("账户中心")]),e._v(" "),a("a",{attrs:{href:"#/setting"}},[a("label",{staticClass:"editcart"},[e._v("设置")])])])]),e._v(" "),a("article",{directives:[{name:"fix-ios",rawName:"v-fix-ios"}],staticClass:"uscenter-cont life-module"},[a("v-pull-down",{ref:"pulldown",on:{load:e.getDashboard}},[a("div",{staticClass:"acct-user-wrap"},[e.UserModel?a("div",{staticClass:"acct-user"},[a("img",{staticClass:"i-mugshot",attrs:{src:e.UserModel.UserFace?e.$options.filters.imgAuto(e.UserModel.UserFace):"http://i1.lifevccdn.com/images/m/Account/mugshot_default@2x.png"}}),e._v(" "),a("v-img-upload",{staticClass:"imgupload",attrs:{maximumImagesCount:"1"},on:{appUploadHander:e.appUploadHander,uploadHander:e.uploadHander}}),e._v(" "),a("div",{staticClass:"user-info",staticStyle:{"max-width":"55%"}},[a("span",{staticClass:"us-name"},[e._v(e._s(e.UserModel.RealName))]),e._v(" "),e.UserModel.UserLevel&&e.UserModel.UserLevel.Uri?a("a",{on:{click:function(t){e.$options.filters.open(e.UserModel.UserLevel.Uri,"会员等级")}}},[a("span",{staticClass:"us-level "},[e._v(e._s(e.UserModel.CustomerLevelName))]),e._v(" "),a("img",{staticClass:"i-level-sign",attrs:{src:e.$options.filters.imgAuto(e.UserModel.UserLevel.Icon)}}),e._v(" "),a("span",{staticClass:"level-arr"})]):e._e()])],1):e._e(),e._v(" "),null==e.UserModel?a("div",{staticClass:"acct-nolog"},[a("span",{staticClass:"state"},[e._v("您还未登录")]),e._v(" "),a("div",{staticClass:"btn-entry"},[a("router-link",{staticClass:"font-large",attrs:{to:"/login"}},[e._v("登录")]),e._v(" "),a("span",{staticClass:"split"}),e._v(" "),a("router-link",{staticClass:"font-large",attrs:{to:"/register"}},[e._v("注册")])],1)]):e._e()]),e._v(" "),a("div",{staticClass:"dashboard-order life-dashboard-order"},[a("ul",[a("li",[a("a",{attrs:{href:"#/usercenter/userorder/waittoypay"}},[a("span",{staticClass:"item-ico"},[e.UserModel&&e.UserModel.OrderWaitToPay>0?a("span",{staticClass:"hint"},[e._v(e._s(e.UserModel.OrderWaitToPay))]):e._e(),e._v(" "),a("span",{attrs:{id:"ico1"}})]),e._v(" "),a("span",{staticClass:"item-title"},[e._v("待支付")])])]),e._v(" "),a("li",[a("a",{attrs:{href:"#/usercenter/userorder/packing"}},[a("span",{staticClass:"item-ico"},[e.UserModel&&e.UserModel.OrderPacking>0?a("span",{staticClass:"hint"},[e._v(e._s(e.UserModel.OrderPacking))]):e._e(),e._v(" "),a("span",{attrs:{id:"ico2"}})]),e._v(" "),a("span",{staticClass:"item-title"},[e._v("待发货")])])]),e._v(" "),a("li",[a("a",{attrs:{href:"#/usercenter/userorder/shipped"}},[a("span",{staticClass:"item-ico"},[e.UserModel&&e.UserModel.OrderShipped>0?a("span",{staticClass:"hint"},[e._v(e._s(e.UserModel.OrderShipped))]):e._e(),e._v(" "),a("span",{attrs:{id:"ico3"}})]),e._v(" "),a("span",{staticClass:"item-title"},[e._v("待收货")])])])]),e._v(" "),a("ul",[a("li",[a("a",{attrs:{href:"#/usercenter/userorder/waittocomment"}},[a("span",{staticClass:"item-ico"},[e.UserModel&&e.UserModel.OrderWaitToComment>0?a("span",{staticClass:"hint"},[e._v(e._s(e.UserModel.OrderWaitToComment))]):e._e(),e._v(" "),a("span",{attrs:{id:"ico4"}})]),e._v(" "),a("span",{staticClass:"item-title"},[e._v("待评论")])])]),e._v(" "),a("li",[a("a",{attrs:{href:"#/usercenter/userorder/reply"}},[a("span",{staticClass:"item-ico"},[e.UserModel&&e.UserModel.Reply>0?a("span",{staticClass:"hint"},[e._v(e._s(e.UserModel.Reply))]):e._e(),e._v(" "),a("span",{attrs:{id:"ico5"}})]),e._v(" "),a("span",{staticClass:"item-title"},[e._v("回复")])])]),e._v(" "),a("li",[a("a",{attrs:{href:"#/usercenter/returnorder"}},[a("span",{staticClass:"item-ico"},[a("span",{attrs:{id:"ico6"}})]),e._v(" "),a("span",{staticClass:"item-title"},[e._v("退换货")])])])])]),e._v(" "),a("v-user-menu",{attrs:{"menu-model":e.MenuModel,"user-model":e.UserModel,userCouponNum:e.UserCouponNum}}),e._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:!1,expression:"false"}],staticClass:"acct-logout"},[a("input",{staticClass:"btn btn-logout",attrs:{type:"button",value:"退出当前账号"},on:{click:function(t){e.exitLogin()}}})])],1)],1),e._v(" "),a("v-footer"),e._v(" "),a("v-download",{attrs:{showDownload:e.showDownload},on:{hideDownload:e.hideDownload}})],1)},staticRenderFns:[]}},503:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{directives:[{name:"show",rawName:"v-show",value:null!=e.menuModel,expression:"menuModel!=null"}],staticClass:"dashboard"},e._l(e.menuModel,function(t){return a("ul",{staticStyle:{"margin-bottom":"1rem"}},e._l(t.Menus,function(t){return a("li",[a("a",{on:{click:function(a){e.ChangeUrl(t.Code,t.Link,t.Title)}}},[a("img",{staticClass:"item-i",attrs:{src:e.$options.filters.imgAuto(t.Icon)}}),e._v(" "),a("span",{staticClass:"item-title"},[e._v(e._s(t.Title))]),e._v(" "),a("span",{staticClass:"arr-r"}),e._v(" "),null!=e.userModel&&null!=e.userModel.MenuDesc&&e.userModel.MenuDesc.length>0?e._l(e.userModel.MenuDesc,function(s){return s.Code==t.Code?a("span",{staticClass:"item-tip"},["Coupon"==s.Code?[e._v("\n                            你现有优惠券"+e._s(e.userCouponNum)+"张\n                        ")]:[e._v("                                \n                            "+e._s(s.Desc)+"\n                        ")]],2):e._e()}):e._e()],2)])}))}))},staticRenderFns:[]}}});