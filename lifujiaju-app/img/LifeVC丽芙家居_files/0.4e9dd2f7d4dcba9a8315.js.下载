webpackJsonp([0,49],{26:function(t,e,a){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var n=a(9),s=i(n),o=a(8),r=i(o),l=a(1),c=i(l),u=a(6),d=i(u);e.default={getActivityShelfByCode:function(t,e){return new s.default(function(a,i){var n=c.default.getAppBaseUrl()+"/activities/ActivityShelf?code="+t+(null!=e?"&itemsort="+e:"");r.default.get(n).then(function(t){a(t)},function(t){i(t)})})},getDiscountByactivityId:function(t){return new s.default(function(e,a){var i=d.default.appUrl+"/activities/discount?activityId="+t;r.default.get(i).then(function(t){e(t)},function(t){a(t)})})},getNormalDiscount:function(t){return new s.default(function(e,a){var i=d.default.appUrl+"/activities/NormalDiscount?code="+t;r.default.get(i).then(function(t){return t&&null==t.InnerData?void a(t.Message):void e(t)},function(t){a(t)})})},getNormalDiscountItemData:function(t){return new s.default(function(e,a){t=c.default.getAppBaseUrl()+t,r.default.get(t).then(function(t){e(t)},function(t){a(t)})})}}},45:function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={getScrollTop:function(){var t=0,e=0,a=0;return document.body&&(e=document.body.scrollTop),document.documentElement&&(a=document.documentElement.scrollTop),t=e-a>0?e:a},getWindowHeight:function(){var t=0;return t="CSS1Compat"==document.compatMode?document.documentElement.clientHeight:document.body.clientHeight},getScrollHeight:function(){var t=0,e=0,a=0;return document.body&&(e=document.body.scrollHeight),document.documentElement&&(a=document.documentElement.scrollHeight),t=e-a>0?e:a}}},63:function(t,e,a){var i,n;a(303),i=a(158);var s=a(446);n=i=i||{},"object"!=typeof i.default&&"function"!=typeof i.default||(n=i=i.default),"function"==typeof n&&(n=n.options),n.render=s.render,n.staticRenderFns=s.staticRenderFns,n._scopeId="data-v-0aca8674",t.exports=i},158:function(t,e,a){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var n=a(26),s=i(n),o=a(45),r=(i(o),a(3)),l=i(r),c=a(1),u=i(c),d=a(2),v=i(d),f=null;e.default={data:function(){return{code:"",itemsort:null,caption:"LifeVC丽芙家居",currentContent:"bestSellers",status:{navStatus:"nav-close"},SliderType:0,resCountdownTime:0,sortCountdownTime:0,countDownMessage:"",selItemSortPrice:"3",Days:null,Hours:null,Minutes:null,Seconds:null,Millisecond:null,AllData:[],InnerData:[],data:{Shelves:[]},pageNames:["promotions","promotionsnotime","promotionsbysort","promotionsbysortandtime"],currentPage:"promotions",showLoading:!0,IsApp:u.default.isApp(),fullPath:"",scrollEl:".page-content"}},beforeDestroy:function(){clearTimeout(f)},methods:{openItem:function(t){u.default.setScrollTop(this.scrollEl),this.$options.filters.openItem(t)},setCountDown:function(t){var e=this;if(e.currentPage==e.pageNames[0]){var a=new Date,i=a.getTime()/1e3,n=t,s=n-i;e.Days=Math.floor(s/86400);var o=s%86400;e.Hours=Math.floor(o/3600),e.Hours<10&&(e.Hours="0"+e.Hours),e.Minutes=Math.floor(s%86400%3600/60),e.Seconds=Math.floor(s%86400%3600%60),e.Seconds<10&&(e.Seconds="0"+e.Seconds);var r=new Date,l=r.getMilliseconds();e.Millisecond=parseInt(l.toString().substr(0,2),10),e.Millisecond<10&&(e.Millisecond="0"+r.getMilliseconds()),s>0?(clearTimeout(f),f=setTimeout(function(){e.setCountDown(t)},100)):e.countDownMessage=""}},checkApp:function(){},anchorLink:function(t){var e=this,a=(0,v.default)("#"+t).offset().top+(0,v.default)(".page-content").scrollTop()-((0,v.default)("#topbar").outerHeight()||0)-((0,v.default)(".nav-classification").outerHeight()||0)-5;(0,v.default)(e.scrollEl).scrollTop(a),e.currentContent=t,e.initOffset(),l.default.replace({path:this.$route.fullpath,query:{menunav:t}})},handleFixed:function(){var t=(0,v.default)(".nav-classification").offset().top,e=t-(0,v.default)("#topbar").outerHeight()-(0,v.default)(".sticky").outerHeight()||0;(0,v.default)(".sticky").length&&e<=0?(0,v.default)(".sticky").css({transform:"translate(0,"+e+"px)","-webkit-transform":"translate(0,"+e+"px)",clip:"rect("+Math.abs(e)+"px,auto,auto,auto)"}):(0,v.default)(".sticky").css({transform:"translate(0,0)","-webkit-transform":"translate(0,0)",clip:"rect(auto,auto,auto,auto)"}),t<=(0,v.default)("#topbar").outerHeight()?(0,v.default)(".nav-classification>div").css({position:"fixed",top:(0,v.default)("#topbar").outerHeight()+"px","z-index":3}):(0,v.default)(".nav-classification>div").css({position:"static"})},initData:function(){var t=this,e=this;if(e.currentPage=e.$route.name,e.code=e.$route.params.code,e.itemsort=e.$route.params.itemsort,e.countDownMessage="",e.itemsort){switch(s.default.getActivityShelfByCode(e.code,e.itemsort).then(function(t){return e.showLoading=!1,null!=t&&null!=t.InnerData&&(e.data=t.InnerData,e.caption=e.data.Title,e.SliderType=t.InnerData.SliderType,e.sortCountdownTime=e.data.CountdownTime,e.setCountDown(e.sortCountdownTime),u.default.isWeixin()&&e.setShareInfo(),void u.default.changeScrollTop(e.scrollEl))},function(t){e.showLoading=!1}),e.itemsort){case"1":e.tab="1";break;case"2":e.tab="2";break;case"3":e.tab="3";break;case"4":e.tab="4"}e.selItemSortPrice="3"}else s.default.getActivityShelfByCode(e.code).then(function(a){return e.showLoading=!1,null!=a&&null!=a.InnerData&&(e.data=a.InnerData,e.caption=e.data.Title,e.SliderType=e.data.SliderType,e.resCountdownTime=e.data.CountdownTime,e.$route.query.menunav?(e.currentContent=e.$route.query.menunav,e.initOffset()):e.currentContent="idfor"+e.data.Shelves[0].ShelfId,e.setCountDown(e.resCountdownTime),u.default.isWeixin()&&e.setShareInfo(),void t.$nextTick(function(){e.getNavWidth();var t=navigator.userAgent,a=(t.indexOf("Android")>-1||t.indexOf("Adr")>-1,!!t.match(/\(i[^;]+;( U;)? CPU.+Mac OS X/));a?((0,v.default)(".sticky").css({position:"-webkit-sticky",top:0}),(0,v.default)(".nav-classification").css({position:"-webkit-sticky",top:0,"z-index":3})):((0,v.default)(".sticky").css({position:"fixed",top:(0,v.default)("#topbar").outerHeight()+"px"}),(0,v.default)(".page-content").on("scroll",e.handleFixed),(0,v.default)(".page-content").on("touchmove",e.handleFixed)),u.default.changeScrollTop(e.scrollEl)}))},function(t){e.showLoading=!1})},navOpen:function(){var t=this;"nav-open"===t.status.navStatus?t.status.navStatus="nav-close":t.status.navStatus="nav-open"},action:function(t){var e=this;e.tab=t,"3"!=t&&"4"!=t||("3"==e.selItemSortPrice?(t="4",e.selItemSortPrice="4"):"4"==e.selItemSortPrice&&(t="3",e.selItemSortPrice="3")),window.scroll(0,0),e.showLoading=!0,s.default.getActivityShelfByCode(e.code,t).then(function(t){e.data.Shelves=[],e.showLoading=!1,e.$nextTick(function(){var a=[];t.InnerData.Shelves.forEach(function(t){a.push(t)}),e.data.Shelves=a}),e.SliderType=t.InnerData.SliderType,e.resCountdownTime=e.data.CountdownTime;var a="/activity/promotionsbysort/"+e.code+"/"+e.tab;l.default.replace(a)},function(t){e.showLoading=!1})},initOffset:function(){this.$nextTick(function(){var t=(0,v.default)(".j-nav-panel li.selected"),e=t.index();e>0&&(e-=1);for(var a=1,i=0;i<e;i++)a+=(0,v.default)(".j-nav-panel li").eq(e).outerWidth(!0);(0,v.default)(".j-nav-panel").animate({scrollLeft:a},200)})},getNavWidth:function(){var t=(0,v.default)(".j-nav").width(),e=(0,v.default)(".j-nav");e.ready(function(){(0,v.default)(".j-nav li").each(function(e){var a=(0,v.default)(this),i=a.width();t+=i,(0,v.default)(".j-nav").css("width",t)});var a=document.body.clientWidth,i=0;i=320==a?100:420-a,t-a>a?t-=a:t=a,e.css("width",t)})},setShareInfo:function(){var t=this,e=this.$options.filters.wxUrlAuto("#"+t.fullPath),a=t.caption,i="",n="";helper.setShare({showMask:!1,link:e,shareTitle:a,shareContent:i,imagelink:n})}},created:function(){var t=this;t.fullPath=this.$route.fullPath,t.showLoading=!0,t.checkApp(),t.initData()}}},259:function(t,e,a){e=t.exports=a(4)(),e.push([t.id,".page-content[data-v-0aca8674]{margin-top:0;padding-bottom:0;overflow-y:scroll;-webkit-overflow-scrolling:touch;position:absolute;z-index:1;width:100%}.countdown-wrap-nest[data-v-0aca8674]{z-index:9999;width:100%}",""])},303:function(t,e,a){var i=a(259);"string"==typeof i&&(i=[[t.id,i,""]]);a(5)(i,{});i.locals&&(t.exports=i.locals)},446:function(t,e,a){t.exports={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{directives:[{name:"client-height",rawName:"v-client-height"}]},[i("v-loading",{attrs:{"show-loading":t.showLoading}}),t._v(" "),i("v-header",{attrs:{id:"headerid",title:t.caption,"show-back-button":!0,cssposition:"static"}},[t.IsApp?i("img",{staticClass:"head-shareimg",attrs:{src:a(123)},on:{click:t.setShareInfo},slot:"right"}):t._e()]),t._v(" "),i("v-gotop",{attrs:{elQuery:t.scrollEl}}),t._v(" "),t.data?i("article",{directives:[{name:"body-height",rawName:"v-body-height"}],staticClass:"page-content"},[t.currentPage==t.pageNames[0]?[t.Days>0?[i("div",[i("div",{staticClass:"sticky countdown-wrap-nest"},[i("div",{staticClass:"countdown-wrap j-countdown"},[i("div",{directives:[{name:"show",rawName:"v-show",value:0!=t.resCountdownTime,expression:"resCountdownTime!=0"}],staticClass:"countdown "},[i("span",{staticClass:"describe"}),t._v(" "),i("span",{staticClass:"cont"},[i("em",[t._v(t._s(t.Days))]),t._v("天\n            "),i("em",[t._v(t._s(t.Hours))]),t._v("时\n            "),i("em",[t._v(t._s(t.Minutes))]),t._v("分\n            "),i("em",{staticClass:"microsecond"},[t._v(t._s(t.Seconds))]),t._v("秒\n            ")])])])]),t._v(" "),i("div",{staticClass:"theme-wrap"},[i("ul",[i("li",t._l(t.data.HeaderBanners,function(e){return i("a",{on:{click:function(a){t.$options.filters.openPage(e.Uri)}}},[i("img",{directives:[{name:"lazy-src",rawName:"v-lazy-src",value:t.$options.filters.imgAuto(e.ImageUrl),expression:"$options.filters.imgAuto(item.ImageUrl)"}]})])}))])])]),t._v(" "),i("div",{staticClass:"j-nav-anchor"}),t._v(" "),i("div",{directives:[{name:"show",rawName:"v-show",value:0!=t.SliderType,expression:"SliderType!=0"}],staticClass:"nav-classification nav-panel-nest",attrs:{id:"selmenuDay"}},[i("div",{staticClass:"nav-panel j-nav-panel",attrs:{id:"MenusDay"}},[i("ul",{staticClass:"nav j-nav"},t._l(t.data.Shelves,function(e){return i("li",{class:{selected:t.currentContent=="idfor"+e.ShelfId},on:{click:function(a){t.anchorLink("idfor"+e.ShelfId)}}},[i("a",{attrs:{href:"javascript:void(0);"}},[t._v(t._s(e.Title.Text))])])}))])])]:t._e(),t._v(" "),t.Days<=0?[i("div",[i("div",{staticClass:"sticky ountdown-wrap un-day"},[i("div",{directives:[{name:"show",rawName:"v-show",value:0!=t.resCountdownTime,expression:"resCountdownTime!=0"}],staticClass:"countdown j-countdown"},[i("span",{staticClass:"describe"}),t._v(" "),i("span",{staticClass:"cont"},[i("em",[t._v(t._s(t.Days))]),t._v("天\n              "),i("em",[t._v(t._s(t.Hours))]),t._v("时\n              "),i("em",[t._v(t._s(t.Minutes))]),t._v("分\n              "),i("em",[t._v(t._s(t.Seconds))]),t._v("秒\n              "),i("em",{staticClass:"microsecond"},[t._v(t._s(t.Millisecond))])])])]),t._v(" "),i("div",{staticClass:"theme-wrap"},[i("ul",[i("li",t._l(t.data.HeaderBanners,function(e){return i("a",{on:{click:function(a){t.$options.filters.openPage(e.Uri)}}},[i("img",{directives:[{name:"lazy-src",rawName:"v-lazy-src",value:t.$options.filters.imgAuto(e.ImageUrl),expression:"$options.filters.imgAuto(item.ImageUrl)"}]})])}))])])]),t._v(" "),i("div",{staticClass:"j-nav-anchor"}),t._v(" "),i("div",{staticClass:"nav-classification nav-panel-nest",attrs:{id:"selmenuHour"}},[i("div",{directives:[{name:"show",rawName:"v-show",value:0!=t.SliderType,expression:"SliderType!=0"}],staticClass:"nav-panel j-nav-panel",attrs:{id:"MenusHour"}},[i("ul",{staticClass:"nav j-nav",staticStyle:{width:"500px"}},t._l(t.data.Shelves,function(e){return i("li",{class:{selected:t.currentContent=="idfor"+e.ShelfId}},[i("a",{on:{click:function(a){t.anchorLink("idfor"+e.ShelfId)}}},[t._v(t._s(e.Title.Text))])])}))])])]:t._e()]:t._e(),t._v(" "),t.currentPage==t.pageNames[1]?[t.Days>0?[i("div",{staticClass:"theme-wrap"},[i("ul",[i("li",t._l(t.data.HeaderBanners,function(e){return i("a",{on:{click:function(a){t.$options.filters.openPage(e.Uri)}}},[i("img",{directives:[{name:"lazy-src",rawName:"v-lazy-src",value:t.$options.filters.imgAuto(e.ImageUrl),expression:"$options.filters.imgAuto(item.ImageUrl)"}]})])}))])]),t._v(" "),i("div",{staticClass:"j-nav-anchor"}),t._v(" "),i("div",{directives:[{name:"show",rawName:"v-show",value:0!=t.SliderType,expression:"SliderType!=0"}],staticClass:"nav-classification nav-panel-nest",attrs:{id:"selmenuDay"}},[i("div",{staticClass:"nav-panel j-nav-panel",attrs:{id:"MenusDay"}},[i("ul",{staticClass:"nav j-nav"},t._l(t.data.Shelves,function(e){return i("li",{class:{selected:t.currentContent=="idfor"+e.ShelfId}},[i("a",{on:{click:function(a){t.anchorLink("idfor"+e.ShelfId)}}},[t._v(t._s(e.Title.Text))])])}))])])]:t._e(),t._v(" "),t.Days<=0?[i("div",{staticClass:"theme-wrap"},[i("ul",[i("li",t._l(t.data.HeaderBanners,function(e){return i("a",{on:{click:function(a){t.$options.filters.openPage(e.Uri)}}},[i("img",{directives:[{name:"lazy-src",rawName:"v-lazy-src",value:t.$options.filters.imgAuto(e.ImageUrl),expression:"$options.filters.imgAuto(item.ImageUrl)"}]})])}))])]),t._v(" "),i("div",{staticClass:"j-nav-anchor"}),t._v(" "),i("div",{staticClass:"nav-classification nav-panel-nest",attrs:{id:"selmenuHour"}},[i("div",{directives:[{name:"show",rawName:"v-show",value:0!=t.SliderType,expression:"SliderType!=0"}],staticClass:"nav-panel j-nav-panel",attrs:{id:"MenusHour"}},[i("ul",{staticClass:"nav j-nav"},t._l(t.data.Shelves,function(e){return i("li",{class:{selected:t.currentContent=="idfor"+e.ShelfId}},[i("a",{on:{click:function(a){t.anchorLink("idfor"+e.ShelfId)}}},[t._v(t._s(e.Title.Text))])])}))])])]:t._e()]:t._e(),t._v(" "),t.currentPage==t.pageNames[2]||t.currentPage==t.pageNames[3]?[i("div",{staticClass:"j-filter-anchor"}),t._v(" "),i("div",{staticClass:"filter-panel-nest"},[i("div",{directives:[{name:"show",rawName:"v-show",value:0!=t.SliderType,expression:"SliderType!=0"}],staticClass:"filter-panel j-filter-panel fixed",staticStyle:{top:"4rem"}},[i("ul",{staticClass:"filter j-filter"},[i("li",{class:{selected:"1"==t.tab}},[i("a",{on:{click:function(e){t.action("1")}}},[t._v("热卖")])]),t._v(" "),i("li",{class:{selected:"2"==t.tab}},[i("a",{on:{click:function(e){t.action("2")}}},[t._v("新品")])]),t._v(" "),"3"==t.selItemSortPrice?i("li",{staticClass:"desc",class:{selected:"3"==t.tab||"4"==t.tab}},[i("a",{on:{click:function(e){t.action(t.selItemSortPrice)}}},[t._v("价格 "),i("i")])]):t._e(),t._v(" "),"4"==t.selItemSortPrice?i("li",{staticClass:"asc",class:{selected:"3"==t.tab||"4"==t.tab}},[i("a",{on:{click:function(e){t.action(t.selItemSortPrice)}}},[t._v("价格 "),i("i")])]):t._e()])])]),t._v(" "),t._e(),t._v(" "),i("div",{staticClass:"theme-wrap"},[i("ul",[i("li",t._l(t.data.HeaderBanners,function(e){return i("a",{on:{click:function(a){t.$options.filters.openPage(e.Uri)}}},[i("img",{directives:[{name:"lazy-src",rawName:"v-lazy-src",value:t.$options.filters.imgAuto(e.ImageUrl),expression:"$options.filters.imgAuto(item.ImageUrl)"}]})])}))])])]:t._e(),t._v(" "),i("div",{staticClass:"shelf-group-wrap"},[i("div",{staticClass:"shelf-wrap j-tab-cont"},t._l(t.data.Shelves,function(e){return i("div",{attrs:{id:"idfor"+e.ShelfId}},[i("ul",{staticClass:"shelf-banner"},t._l(e.HeaderBanners,function(e){return i("li",[i("a",{on:{click:function(a){t.$options.filters.openPage(e.Uri)}}},[i("img",{attrs:{src:t.$options.filters.imgAuto(e.ImageUrl)}})])])})),t._v(" "),t._l(e.Items,function(e){return i("div",{staticClass:"shelf-item"},[i("a",{staticClass:"item-pic-bx",on:{click:function(a){t.openItem(e.ItemInfoId)}}},[t.currentPage!=t.pageNames[0]&&e.ImageUrl?i("img",{directives:[{name:"lazy-src",rawName:"v-lazy-src",value:t.$options.filters.imgAuto(e.ImageUrl),expression:"$options.filters.imgAuto(item.ImageUrl)"}],staticClass:"item-pic"}):t._e(),t._v(" "),t.currentPage==t.pageNames[0]&&e.ImageUrl?i("img",{staticClass:"item-pic",attrs:{src:t.$options.filters.imgAuto(e.ImageUrl)}}):t._e(),t._v(" "),t.currentPage!=t.pageNames[0]&&e.MaskImageUrl?i("img",{directives:[{name:"lazy-src",rawName:"v-lazy-src",value:t.$options.filters.imgAuto(e.MaskImageUrl),expression:"$options.filters.imgAuto(item.MaskImageUrl)"}],staticClass:"promo-corner"}):t._e(),t._v(" "),t.currentPage==t.pageNames[0]&&e.MaskImageUrl?i("img",{staticClass:"promo-corner",attrs:{src:t.$options.filters.imgAuto(e.MaskImageUrl)}}):t._e(),t._v(" "),i("div",{directives:[{name:"show",rawName:"v-show",value:e.IsEmpty,expression:"item.IsEmpty"}],staticClass:"item-status-empty",domProps:{textContent:t._s(e.IsPotter?"售罄":"热卖脱销")}})]),t._v(" "),i("div",{staticClass:"item-panel",on:{click:function(a){t.openItem(e.ItemInfoId)}}},[i("div",{staticClass:"title"},[t._v(t._s(e.Name))]),t._v(" "),i("div",{staticClass:"item-price"},[i("div",{staticClass:"price-cont"},[i("span",{directives:[{name:"show",rawName:"v-show",value:e.ActivityTag,expression:"item.ActivityTag"}],staticClass:"act-tag"},[t._v(t._s(e.ActivityTag))]),t._v(" "),i("span",{},[t._v("￥")]),t._v(" "),i("span",{},[t._v(t._s(e.ActivityPrice>0?e.ActivityPrice:e.SalePrice))]),t._v(" \n                  "),i("span",{staticClass:"original-price"},[t._v(t._s(e.ActivityPrice>0?"￥"+e.SalePrice:""))]),t._v(" "),i("span",{directives:[{name:"show",rawName:"v-show",value:e.PriceTag&&e.ActivityTag!=e.PriceTag,expression:"item.PriceTag && item.ActivityTag!=item.PriceTag"}],staticClass:"promo-lable"},[t._v(t._s(e.PriceTag))])]),t._v(" "),i("div",{staticClass:"item-comment",attrs:{id:"blackcolor"}},[t._v("\n                  评论：\n                  "),i("span",[t._v(t._s(e.CommentCount))])])])])])})],2)}))])],2):t._e()],1)},staticRenderFns:[]}}});